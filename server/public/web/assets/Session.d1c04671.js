import{P as m}from"./Page.599567a6.js";import{d as v,u as g,a as k,c as f,b as y,w as S,o as t,e as a,r as x,f as C,F as d,g as o,t as n,h as c,i as B,_ as b}from"./index.18b5152f.js";const D=["onClick"],F={class:"avatar"},E={key:0,class:"badge"},L=["src"],N={class:"main"},P={class:"head"},I={class:"name"},M={key:0,class:"date"},V={class:"content"},j={key:0},q={key:1},R={key:2},$=v({__name:"Session",setup(z){const i=g(),u=k(),l=e=>{i.push({path:"/chat",query:{rid:e.partner_id,nickname:e.nickname,avatar:e.avatar,is_group:Number(e.is_group)}})},p=e=>B(e).format("MM-DD hh:mm:ss"),h=f(()=>u.sessionList.map(e=>({...e})));return(e,A)=>(t(),y(m,{tabBarProps:{activeIndex:0}},{default:S(()=>[(t(!0),a(d,null,x(C(h),s=>{var _,r;return t(),a("div",{class:"item",onClick:G=>l(s)},[o("div",F,[s.unread?(t(),a("span",E,n(s.unread),1)):c("",!0),o("img",{src:s.avatar,alt:""},null,8,L)]),o("div",N,[o("div",P,[o("div",I,n(s.nickname)+"("+n(s.partner_id)+")",1),(_=s.last_message)!=null&&_.create_time?(t(),a("div",M,n(p((r=s.last_message)==null?void 0:r.create_time)),1)):c("",!0)]),o("div",V,[s.last_message?(t(),a(d,{key:0},[s.last_message.type===1?(t(),a("div",j,"[\u56FE\u7247]")):c("",!0),s.last_message.type===3?(t(),a("div",q,"[\u6587\u4EF6]")):(t(),a("div",R,n(s.last_message.content||""),1))],64)):c("",!0)])])],8,D)}),256))]),_:1}))}});const K=b($,[["__scopeId","data-v-07f4e856"]]);export{K as default};
